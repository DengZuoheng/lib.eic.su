#电气院内图书馆需求规格说明#
##1. 导言##
###1.1 目的###
此文档用于描述电气信息学院院内图书馆项目需求, 帮助下一步原型和数据库设计.

同时, 作为<<数据库系统概论>>课程设计的需求规格说明书上交.

预期读者:
开发团队
<<数据库系统概论>>课程老师

###1.2 背景###
暨大有个电气信息学院, 电气信息学院有个团委学生会, 团委学生会有个院内图书馆, 用于管理同学们捐献的教材和其他书籍, 但是, 随着书籍的增加, 人工管理渐渐变得不可行, 同时, 检索书籍也很不方便. 

于是, 团委学生会的秘书长提出, 开发一个图书馆系统用于管理院内图书馆, 核心需求是开放给所有学生搜索馆藏书籍,尤其是教材. 同时, 管理入库, 借还, 馆藏剩余, 借书人信用情况等.

目标系统为独立系统, 与`电气信息学院团委学生会门户网站`没有数据交互.

###1.4 术语定义###
值班干事: 值班干事是学生, 在A307管理借书和还书操作,填写<<借还书登记表>>, 需要借书和还书的其他同学都需要提前联系值班干事, 值班干事有多个, 轮班制, 一段时间自有一个值班干事.

开放时间: 因为值班干事是学生, 不可能24小时都在A307, 所以, 院内图书馆是有固定的开放时间的, 在开放时间内才能借书和还书.

预约: 为了方面同学们找书, 系统应提供同学们在宿舍搜索书籍的功能, 但是搜索到书籍到拿到书籍是有一段时间间隔的,  所以, 为了保证同学们一定程度上能保证能拿到书, 系统应提供预约功能, 就是已经被预约的书籍, 其他同学不能预约或借. 当然, 预约都是要值班干事承认并安排取书时间才成立的. 

信誉度: 为了防止学生而已损失馆内书籍, 当多次逾期归还, 损坏书籍, 遗失书籍时, 永久取消借书人的借书资格, 不允许再借书和预约.信誉度起始为8 每次每本书籍逾期归还,损坏扣2分, 遗失扣3分.当信誉度不满8时, 逾期和丢失罚金为基准罚金的2倍, 当信誉度不满5时, 逾期和丢失罚金为基准罚金的4倍.


###1.5 参考资料###
[1] 院内图书馆管理制度 完整版.doc
[2] 场景定义文档.md

###1.6 版本更新信息###
[不适用]

##2. 任务概述##
###2.1 系统定义###
项目背景见`1.2 背景`

系统目标:

- 所有暨大学生可以搜索和预约馆藏书籍. 
- 对每一个预约, 与值班干事联系取书事宜, 所以系统得提供值班干事的联系方式
- 借书和还书都应能在系统中完成, 借书或还书时, 应该可以记录书籍的损坏程度, 方便判定借书者是否有损坏书本的行为. 
- 新书入库时, 应尽量较少干事需要填写的信息, 并提供上传封面的信息
- 搜索应该是模糊的
- 还书时, 应提供逾期罚款的帮助数据, 但是, 按教材计算逾期罚款还是按普通书籍计算逾期罚款, 由值班干事确定.
- 杂志类书籍不纳入管理. 

###2.2 应用环境###
物理环境:
值班干事能且只能在A307操作借书和还书记录. 

软件环境:
系统后台应该运行与SAE.
前端能兼容IE10以上, Chrome 28以上, firefox 28以上, 更低版本的浏览器可以不支持.
前端应该能适配移动端设备. 根据设备屏幕尺寸改变布局. 

###2.3 假定和约束
系统假定, 存在ISBN相同的不同书籍, 不存在学号相同的不同学生.

##3. 需求规定##
###3.1 对功能的规定
####3.1.1 搜索
在首页提供搜索框, 可以用书名, ISBN, 作者搜索库存书籍中 符合条件的, 而且应该支持模糊搜索, 比如, 库存书籍是<<java编程思想>>, 用户可以用`java思想`为关键词搜索到.

####3.1.2 搜索结果反馈
搜索结果需要分类讨论, 如果关键词为ISBN, 这只反馈ISBN符合的结果, 如果搜索结果为书名和作者, 就按符合程度排名反馈.

搜索结果反馈页应提供搜索框, 使得用户再次搜索时, 不必返回首页.

每项搜索结果, 应包括: 封面, 书名, 作者, 译者[可选], 出版社, 出版年, 定价, ISBN, 在馆数量等数据, 并提供预约按钮, 方便用户直接预约书籍. 

可以从每一项搜索结果中点击查看书籍的详细信息. 

####3.1.3 查看书籍信息
查看书籍信息应是每种书籍单独的页面.页面内提供书名, 封面, 作者, 出版社, 译者[可选], 出版年, 页数, 定价, ISBN, 总册数, 在馆数, 已预约, 剩余, 以及预约按钮.

###3.1.3 预约
预约功能的描述见1.4术语定义中的`预约`.通过点击搜索结果, 书籍详细信息页面中的预约按钮进入预约界面. 应该记录预约人学号, 姓名, 手机短号, 手机长号, 自动生成ISBN, 书名, 可选册数.

预约应该在24小时内被值班干事受理, 否则自动取消. 

制度规定, 一个人借用和预约的总数不能超过8本, 所以, 检测到超过8本将不能预约.

###3.1.4 查看预约记录
此功能为值班干事才能使用.

值班干事可以看到最近的预约记录, 每一项提供预约时间, 预约人, 预约人联系方式, 预约书名, 册数. 并提供受理, 取消, 外借按钮.

其中, 受理表示该预约已经受理, 预约书籍不再被其他人外借和预约. 取消表示预约者决定不借用此书, 被预约的书籍可被其他人外借和预约. 外借表示, 值班人员可以直接从这里跳到外借流程, 同时, 预约流程必须从这里才能正常结束. 

###3.1.5 外借
此功能为值班干事才能使用.

通过此功能完成外借流程, 需要填写借书人的学号, 姓名, 联系方式, 所接书籍的ISBN, 书名, 册数, 当前图书状态描述, 值班干事学号.

其中, 状态描述用于描述借书时图书的破损程度, 据此判定还书时破损程度有没明显变化, 并据此判断借书人有没损坏书籍.

系统应能搜索数据库记录自动填写已经存在的借书人信息和书籍信息. 

###3.1.6 查看外借记录
此功能为值班干事才能使用.

可以通过这个功能查看所有外借记录, 突出显示未归还的记录, 并提供归还按钮, 通过归还按钮直接进入还书流程. 另外, 可以根据学号, 姓名, 书名排序.

如果借书时是一种书借多本, 这会产生多条外借记录, 彼此独立. 

###3.1.7 归还
根据还熟人学号,ISBN进入还书流程, 页面提供基本的图书信息和借书人信息, 可选择书名和还书状态, 还书状态为正常,逾期, 损坏或遗失, 除了正常, 其他情况都要扣借书人的信誉度. 

需要指出的是, 遗失流程也是在这里完成的.

###3.1.8 查看所有馆藏
页面已表格形式列出所有馆藏的ISBN, 书名, 作者, 出版社, 定价, 总册数, 在馆册数, 可预约册数, 预约按钮. 突出显示剩余量比较少的和剩余量比较多的.

###3.1.9 新书入库
通过此页面进行新书入库, 输入ISBN, 从数据库搜索相应的图书记录, 如果数据库没有, 应到互联网上搜索图书信息, 自动填充封面, 书名, 作者, 译者, 出版社, 出版年, 页数, 定价, 现有册数, 如果存在ISBN相同的两本书, 则让操作者选择. 另外操作者需要填写新增册数.

系统应提供图片上传功能, 当无法从互联网抓取信息时, 可以让操作者手动上传封面和填写其他信息.

###3.1.10 管理值班干事
列出所有值班干事的学号, 姓名, 联系方式, 并提供设为当前值班和增删的方法, 突出显示当前值班干事.



